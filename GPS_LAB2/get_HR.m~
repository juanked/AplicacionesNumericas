function [H,R]=get_HR(XYZ,pos)
nsat = size(XYZ,2);
H=ones([nsat,4]);
R=zeros(nsat,1);
for i=1:nsat
   R(i,1)=sqrt(((XYZ(1,i)-pos(1))^2)+((XYZ(2,i)-pos(2))^2)+((XYZ(3,i)-pos(3))^2))
   H(1,i)=(-(XYZ(i,1)-pos(1)))/(R(i,1));
   H(2,i)=(-(XYZ(i,2)-pos(2)))/(R(i,1));
   H(3,i)=(-(XYZ(i,3)-pos(3)))/(R(i,1));
end
R
H
return
